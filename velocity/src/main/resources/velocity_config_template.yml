###########################################################################################################
#|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||#
###########################################################################################################
#                                                                                                         #
#   /███████                           /██                                                                #
#  | ██__  ██                         | ██                                                                #
#  | ██  \ ██  /██   /██   /███████  /██████    /██   /██                                                 #
#  | ███████/ | ██  | ██  /██_____/ |_  ██_/   | ██  | ██                                                 #
#  | ██__  ██ | ██  | ██ |  ██████    | ██     | ██  | ██                                                 #
#  | ██  \ ██ | ██  | ██  \____  ██   | ██ /██ | ██  | ██                                                 #
#  | ██  | ██ |  ██████/  /███████/   |  ████/ |  ███████                                                 #
#  |__/  |__/  \______/  |_______/     \___/    \____  ██                                                 #
#                                               /██  | ██                                                 #
#                                              |  ██████/                                                 #
#    /██████                                    \______/                /██                               #
#   /██__  ██                                                          | ██                               #
#  | ██  \__/   /██████   /███████   /███████    /██████    /███████  /██████     /██████    /██████      #
#  | ██        /██__  ██ | ██__  ██ | ██__  ██  /██__  ██  /██_____/ |_  ██_/    /██__  ██  /██__  ██     #
#  | ██       | ██  \ ██ | ██  \ ██ | ██  \ ██ | ████████ | ██         | ██     | ██  \ ██ | ██  \__/     #
#  | ██    ██ | ██  | ██ | ██  | ██ | ██  | ██ | ██_____/ | ██         | ██ /██ | ██  | ██ | ██           #
#  |  ██████/ |  ██████/ | ██  | ██ | ██  | ██ |  ███████ |  ███████   |  ████/ |  ██████/ | ██           #
#   \______/   \______/  |__/  |__/ |__/  |__/  \_______/  \_______/    \___/    \______/  |__/           #
#                                                                                                         #
#                                                                                                         #
#                                        Welcome to RustyConnector!                                       #
#                                                                                                         #
#                            -------------------------------------------------                            #
#                                                                                                         #
# | RustyConnector is your go-to load-balancer and     | Built for usage on high-traffic networks;        #
# | player manager for Minecraft networks!             | RustyConnector is meant to be scalable and easy  #
#                                                      | to maintain!                                     #
#                                                                                                         #
#                               | If you ever need assistance setting up your                             #
#                               | plugin come join us in our discord server:                              #
#                               | https://join.aelysium.group/                                            #
#                            -------------------------------------------------                            #
#                                                                                                         #
#                                          Produced by: Aelysium                                          #
#                                                                                                         #
#                            -------------------------------------------------                            #
#                                                                                                         #
###########################################################################################################
#|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||#
###########################################################################################################
#
# Do not touch this value, it might totally mess up your entire plugin!
# And that's the last thing anyone wants :)
#
config-version: 1



############################################################
#||||||||||||||||||||||||||||||||||||||||||||||||||||||||||#
#                         General                          #
#||||||||||||||||||||||||||||||||||||||||||||||||||||||||||#
############################################################

#########################
#      Private Key      #
#########################
#
# Private key is used to validate messages.
# This way external users can't appear and send messages.
# This value should be changed periodically for security purposes.
#
# To generate a new keyset, set the string to be an empty value and the plugin will send a new key in console on next restart.
#
# DO NOT EVER SHARE THIS KEY!
#
private-key: ""
#
# The public key associated with the private key.
#
# This key will be sent in server messages.
#
public-key: ""

#########################
#         Heart         #
#########################
#
# The proxy's heart.
#
# When it beats it will ping all servers.
# If a server doesn't respond before the heart beats again, it will be un-registered.
# This is how the plugin unregisters servers that become unresponsive or failed to unregister themselves when they were shutdown.
#
# Time is in seconds.
#
heart-beat: 10

############################################################
#||||||||||||||||||||||||||||||||||||||||||||||||||||||||||#
#                        Families                          #
#                                                          #
#               ---------------------------                #
# | Families are a collection of servers. To register      #
# | new servers into a family, you need to configure       #
# | your sub-servers appropriately.                        #
#                                                          #
# | If your sub-servers use family names that don't match  #
# | what you define here, they will not be registered.     #
#               ---------------------------                #
#                                                          #
#||||||||||||||||||||||||||||||||||||||||||||||||||||||||||#
############################################################

#
# The root family. Once a player connects and is validated.
# This is the family that they will automatically be routed to.
#
# !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
# YOUR ROOT FAMILY MUST BE DEFINED IN THE families ARRAY IN ORDER TO WORK
# !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
#
#
root-family: "lobby"

#
# The families array.
# Define as many families here as you'd like!
# After defining your list of families, restart the plugin, and it will auto-generate the config files you'll need.
# If you remove a family from this list, the plugin will no longer use that family, and you can safely delete its
# config files from your server.
#
# !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
# Make sure you also list your "root-family" in this list as well!
# !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
#
families:
  - "lobby"
  - "survival"
  - "creative"


############################################################
#||||||||||||||||||||||||||||||||||||||||||||||||||||||||||#
#                        Database                          #
#||||||||||||||||||||||||||||||||||||||||||||||||||||||||||#
############################################################

#########################
#         Redis         #
#########################
#
# Redis is required in order to provide quick and easy syncing between the proxy and sub-servers
#
redis:
    host: "localhost"
    port: 3306
    password: "password"

#
# The name of the data channel that sync information should be sent over.
# If you don't know what this is, don't mess with it! The default value here is fine.
# You probably won't break anything, but you generally just shouldn't touch things you don't understand.
#
    data-channel: "rustyConnector-sync"

############################################################
#||||||||||||||||||||||||||||||||||||||||||||||||||||||||||#
#                        Whitelist                         #
#                                                          #
#               ---------------------------                #
# | RustyConnector attempts to be as flexible as possible  #
# | when configuring whitelists!                           #
# | To setup a whitelist, you'll need to navigate to the   #
# | "whitelists" folder and follow the directions in the   #
# | provided whitelist-template.                           #
#                                                          #
# | More often than not, you will have multiple whitelist  #
# | configurations that you may want to switch between     #
# | during various points in your network's lifetime.      #
# | This system allows you to set up as many pre-defined   #
# | whitelists as you'd like, and enable or switch between #
# | then whenever you want!                                #
#               ---------------------------                #
#                                                          #
#||||||||||||||||||||||||||||||||||||||||||||||||||||||||||#
############################################################
whitelist:
#
# If you set this to be on. You will be turning on a whitelist which will **effect your entire proxy**!
# If you only want to effect certain families or individual servers. Look into the appropriate configuration locations!
#
    enabled: false

#
# The name of the whitelist configuration file in your "whitelists" folder.
# You can include the ".yml" at the end of the name below if you'd like. It doesn't matter either way.
#
    name: "whitelist-template"

############################################################
#||||||||||||||||||||||||||||||||||||||||||||||||||||||||||#
#                     Message Tunnel                       #
#                                                          #
#               ---------------------------                #
# | Sadly we can't all have nice things. If you notice     #
# | you're getting server requests from ip addresses you   #
# | don't recognize, you can block them!                   #
#                                                          #
# | Alternatively, if you'd like to only allow messages    #
# | from certain ip addresses; you can whitelist them!     #
#                                                          #
#  NOTE: This section has NOTHING to do with players!      #
#        Instead, it is used to provide better control     #
#        over where servers are allowed to auto-register   #
#        from.                                             #
#                                                          #
#  NOTE: This section more or less completely destroys the #
#        scalability that RustyConnector provides.         #
#        While it does prevent the registration of IPs     #
#        we don't recognize, it also prevents the          #
#        registration of new IPs without manually adding   #
#        them below.                                       #
#               ---------------------------                #
#                                                          #
#||||||||||||||||||||||||||||||||||||||||||||||||||||||||||#
############################################################
message-tunnel:
#
# The tunnel whitelist.
# To disable the whitelist, set it to be:
# whitelist: []
#
# By listing IP addresses here. The plugin will NEVER accept messages if they don't contain one of these IP Addresses!
# If you know exactly which IP Addresses you want to allow messages from. You can whitelist them here!
#
# VERY IMPORTANT: If you are getting messages over your redis network that you don't recognize:
#                 YOU SHOULD RESET YOUR REDIS CREDENTIALS IMMEDIATELY!
#                 This list only exists as an extra safety measure against somebody who gets access to your Redis database.
#
    whitelist:
        enabled: false
        addresses:
          - "127.0.0.1"

#
# The tunnel denylist.
# To disable the denylist, set it to be:
# denylist: []
#
# By listing IP addresses here. The plugin will NEVER accept messages containing one of these IP Addresses!
#
# NOTE: The denylist has precedence over the whitelist. If an IP is defined in both the whitelist AND the denylist
#       it will not be accepted.
#
# VERY IMPORTANT: If you are getting messages over your redis network that you don't recognize:
#                 YOU SHOULD RESET YOUR REDIS CREDENTIALS IMMEDIATELY!
#                 This list only exists as an extra safety measure against somebody who gets access to your Redis database.
#
    denylist:
        enabled: false
        addresses:
          - "127.0.0.1"


############################################################
#||||||||||||||||||||||||||||||||||||||||||||||||||||||||||#
#                      Boot Commands                       #
#                                                          #
#               ---------------------------                #
# | You can run proxy commands when RustyConnector         #
# | finishes booting up!                                   #
#                                                          #
# | This is a great way to automatically send a            #
# | register all command through the data channel          #
# | after a server restart!                                #
#               ---------------------------                #
#                                                          #
#||||||||||||||||||||||||||||||||||||||||||||||||||||||||||#
############################################################
boot-commands:
    enabled: false

#
# The proxy commands to send on-boot.
# These commands will be sent, in order, from top to bottom.
# Remember that these are proxy commands. You won't be able to run commands on your sub-servers from here.
# This section doesn't care about whether other plugins on the proxy have started yet!
#
    commands:
      - "rc registerAll"