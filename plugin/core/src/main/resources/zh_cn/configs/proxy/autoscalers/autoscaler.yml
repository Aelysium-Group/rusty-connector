#############################################################
#|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||#
#                     Elastic Autoscaler                    #
#                                                           #
#               ----------------------------                #
#                                                           #
# | Autoscalers直接挂接到K8S(Kubernetes)实例，               #
# | 让你的家族可以动态调整服务器数量，以应对不同玩家涌入情况     #
#                                                           #
# | 如果将同一个autoscaler配置分配给多个家族                   #
# | 它们都将遵守该autoscaler的配置规则                        #
#                                                           #
# | elastic autoscaler系统会根据玩家涌入的情况                #
# | 动态调整服务器容量                                        #
#                                                           #
#               ----------------------------                #
#                                                           #
#|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||#
#############################################################
#
# 是否启用autoscaler?
# 若为false, 则家族将不使用autoscaler
#
enabled: false

container:
    #
    # 使用的容器名称
    #
    name: ""

    #
    # 要加载到容器中的docker镜像的名称
    #
    image: ""

#
# 允许激活的最小服务器实例数量
# 即使没有玩家在线，服务器实例数量也不应少于此数
#
minimum-capacity: 1

#
# 该Autoscaler配置允许创建的最大服务器实例数量
# Autoscaler绝不会创建超过此数量的服务器实例
#
maximum-capacity: 10



#
# 创建新服务器实例时需要满足的玩家与服务器容量的比率
# 例如服务器软上限总容量为100，而服务器有80名玩家在线，达到80%将会自动创建新的实例
# 默认比例为0.8
#
generating-ratio: 0.8

#
# 删除服务器实例时需要满足的玩家与服务器容量的比率
# 例如设置0.2，服务器软上限总容量为100，而服务器有20名玩家在线，达到或低于20%将会删除该实例
# 默认比例为0.0
#
# 达到或低于这个数字的实例将会被删除
#
shaving-ratio: 0.0



#
# Traffic compensation会让Autoscaler在特定时间段内提高其`最低容量`，
# 以便更好的为玩家流入做好充分的提前准备
#
# 如果你知道你的群组网络在每天傍晚6点或特定时间段，会有大量玩家流入，
# 你就可以配置该功能，指示Autoscaler启动更多实例来应对额外的玩家流入
#

# traffic-compensation:
#     enabled: false
#
#     #
#     # 流量计算器应该计算什么时间段?
#     #
#     # DAILY - 无需定义天数，仅需配置小时和分钟
#     # WEEKLY - 您需要定义日期和时间，天数1为周日，天数7为周六
#     # MONTHLY - 您需要定义日期和时间，天数1是这个月的第一天
#     #           如果列出的某一天在这个月不存在（比如2月31日），则会被忽略
#     #
#     timespan: WEEKLY
#
#     #
#     # 定义可更改容量参数的定时器
#     #
#     ##### 如果`timespan`设置为`DAILY`则其格式应为:
#     #####   - at: <time>
#     #####     minimum-capacity: <number OR "default">
#     #####     maximum-capacity: <number OR "default">
#     #
#     ##### 如果`timespan`设置为`WEEKLY`或`MONTHLY`则其格式应为:
#     #####   - at: <day> <time>
#     #####     minimum-capacity: <number OR "default">
#     #####     maximum-capacity: <number OR "default">
#     #
#     # 如果您想重置某个容量参数，可以将其设置为"default"
#     # 这样它就会被设置为与您在配置内定义的初始参数相同
#     #
#     stops:
#         - at: Day1 12:00pm
#           minimum-capacity: 5
#           maximum-capacity: 20
#         - at: Day2 6:00pm
#           minimum-capacity: default
#           maximum-capacity: default